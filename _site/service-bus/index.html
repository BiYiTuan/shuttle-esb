
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Shuttle-ESB API</title>
    
    <meta name="author" content="Eben Roux">

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap styles -->
    <link href="http://shuttle.github.io/shuttle-esb/assets/themes/shuttle/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Optional theme -->
    <link href="http://shuttle.github.io/shuttle-esb/assets/themes/shuttle/bootstrap/css/bootstrap-theme.min.css" rel="stylesheet">
    <!-- Sticky Footer -->
    <link href="http://shuttle.github.io/shuttle-esb/assets/themes/shuttle/bootstrap/css/bs-sticky-footer.css" rel="stylesheet">
    
    <!-- Custom styles -->
    <link href="http://shuttle.github.io/shuttle-esb/assets/themes/shuttle/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">
    <link href="http://shuttle.github.io/shuttle-esb/assets/themes/shuttle/css/jquery.tocify.css" rel="stylesheet" type="text/css" media="all">
	
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <!-- Update these with your own images
      <link rel="shortcut icon" href="images/favicon.ico">
      <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
      <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
      <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
    -->

    <!-- atom & rss feed -->
    <link href="http://shuttle.github.io/shuttle-esb/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="http://shuttle.github.io/shuttle-esb/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

  </head>

  <body>
    <div id="wrap">
      <nav class="navbar navbar-default" role="navigation">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#jb-navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="http://shuttle.github.io/shuttle-esb">shuttle-esb</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="jb-navbar-collapse">
			<ul class='nav navbar-nav'>
				<li>
					<a href='http://shuttle.github.io/shuttle-esb/'>Home</a>
				</li>
				<li class='dropdown'>
					<a class='dropdown-toggle' data-toggle='dropdown' href='#'>
					Guides
					<b class='caret'></b>
					</a>
					<ul class='dropdown-menu'>
						<li>
							<a href='http://shuttle.github.io/shuttle-esb/getting-started'>Getting Started</a>
						</li>
						<li class='divider'></li>
						<li>
							<a href='http://shuttle.github.io/shuttle-esb/architecture'>Architecture &amp; Patterns</a>
						</li>
						<li class='divider'></li>
						<li>
							<a href='http://shuttle.github.io/shuttle-esb/modules'>Modules</a>
						</li>
					</ul>
				</li>
				<li class='dropdown'>
					<a class='dropdown-toggle' data-toggle='dropdown' href='#'>
					API
					<b class='caret'></b>
					</a>
					<ul class='dropdown-menu'>
						<li class='dropdown-header'>Core</li>
							<li>
								<a href='http://shuttle.github.io/shuttle-esb/encryption'>Encryption</a>
							</li>
							<li>
								<a href='http://shuttle.github.io/shuttle-esb/compression'>Compression</a>
							</li>
							<li>
								<a href='http://shuttle.github.io/shuttle-esb/idempotence-service'>Idempotence Service</a>
							</li>
							<li>
								<a href='http://shuttle.github.io/shuttle-esb/message-handler-factory'>Message Handler Factory</a>
							</li>
							<li>
								<a href='http://shuttle.github.io/shuttle-esb/message-route-provider'>Message Route Provider (+Forwarding)</a>
							</li>
							<li>
								<a href='http://shuttle.github.io/shuttle-esb/message-sender'>Message Sender</a>
							</li>
							<li>
								<a href='http://shuttle.github.io/shuttle-esb/pipeline-factory'>Pipeline Factory</a>
							</li>
							<li>
								<a href='http://shuttle.github.io/shuttle-esb/service-bus-policy'>Policy</a>
							</li>
							<li>
								<a href='http://shuttle.github.io/shuttle-esb/serializer'>Serializer</a>
							</li>
							<li>
								<a href='http://shuttle.github.io/shuttle-esb/service-bus'>Service Bus</a>
							</li>
							<li>
								<a href='http://shuttle.github.io/shuttle-esb/subscription-manager'>Subscription Manager</a>
							</li>
							<li>
								<a href='http://shuttle.github.io/shuttle-esb/thread-activity-factory'>Thread Activity Factory</a>
							</li>
							<li>
								<a href='http://shuttle.github.io/shuttle-esb/transactionscope-factory'>TransactionScope Factory</a>
							</li>
						<li class='divider'></li>
						<li class='dropdown-header'>Miscellaneous</li>
							<li>
								<a href='http://shuttle.github.io/shuttle-esb/full-configuration'>Full Configuration</a>
							</li>
						</li>
					</ul>
				</li>
				<li class='dropdown'>
					<a class='dropdown-toggle' data-toggle='dropdown' href='#'>
					Extensions
					<b class='caret'></b>
					</a>
					<ul class='dropdown-menu'>
						<li class='dropdown-header'>Queues</li>
							<li>
								<a href='http://shuttle.github.io/shuttle-esb/extensions-rabbitmq'>RabbitMQ</a>
							</li>
							<li>
								<a href='http://shuttle.github.io/shuttle-esb/extensions-msmq'>MSMQ</a>
							</li>
							<li>
								<a href='http://shuttle.github.io/shuttle-esb/extensions-sql-server'>Sql Server</a>
							</li>
						<li class='divider'></li>
						<li class='dropdown-header'>Factories</li>
							<li>
								<a href='http://shuttle.github.io/shuttle-esb/extensions-castle-project'>Castle Project</a>
							</li>
						</li>
						<li class='divider'></li>
						<li class='dropdown-header'>Modules</li>
							<li>
								<a href='http://shuttle.github.io/shuttle-esb/modules-corrupt-messages'>Corrupt Transport Messages</a>
							</li>
						</li>
					</ul>
				</li>
				<li>
					<a href='http://www.youtube.com/shuttleservicebus' target='_blank'>Videos</a>
				</li>
				<li>
					<a href='http://shuttle.github.io/shuttle-esb/archive'>Archive</a>
				</li>
				
				
				


  
    
      
    
  
    
      
      	
      	<li><a href="http://shuttle.github.io/shuttle-esb/archive/">Archive</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="http://shuttle.github.io/shuttle-esb/categories/">Categories</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="http://shuttle.github.io/shuttle-esb/pages/">Pages</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="http://shuttle.github.io/shuttle-esb/tags/">Tags</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  



			</ul>
          <ul class="nav navbar-nav navbar-right">
			
			<li>
			  <a href="https://github.com/Shuttle/shuttle-esb" class="hidden-xs hidden-sm" target="_blank">GitHub</a>
			</li>
			
		  </ul>
        </div><!-- /.navbar-collapse -->
      </nav>

      <div class="container">
        
<div class="row">
	<div id='toc-container' class='col-md-3'>
	<div id="toc-anchor"></div> 
	<div id='toc' class='visible-md visible-lg'></div>
	</div>
	<div class='col-md-9'>
	<h1>ServiceBus</h1>

<p>There are basically three ways to communicate from one endpoint to another:</p>

<ul>
<li>sending <strong>command</strong> messages for processing</li>
<li>sending <strong>command</strong> messages for <em>deferred</em> processing</li>
<li>publishing <strong>event</strong> messages</li>
</ul>

<p>A <strong>command</strong> message is only ever sent to <strong>one</strong> endpoint and at least <strong>one</strong> endpoint is required for the message to be successfully sent.  This requirement stems from a <strong>command</strong> being an instruction that will result in an action so it is something that is still going to take place.  If there is no endpoint to send a <strong>command</strong> to the instruction will not be executed whilst there is an expectation that the action would be executed.</p>

<p>An <strong>event</strong>, on the other hand, is something that has happened typically as a result of a <strong>command</strong> but not always.  There may be some other state that is noticed by the system that may require an <strong>event</strong> being published.  An event may have <strong>zero</strong> or <strong>more</strong> subscribers since there is no requirement for anyone to be interested in the event.  Typically when a business <strong>event</strong> is defined there should be at least one interested subscriber; else the <strong>event</strong> would not exist.  There may be some infrastructure-related eventst that may not always have a subscriber but it may be worthwhile publising the event anyway since it is something interesting that has occurred.</p>

<p>Some examples of <em>commands</em> and <em>events</em>:</p>

<table><thead>
<tr>
<th>Command</th>
<th>Event</th>
</tr>
</thead><tbody>
<tr>
<td><code>SendEMailCommand</code></td>
<td><code>EMailSentEvent</code></td>
</tr>
<tr>
<td><code>CreateCustomerCommand</code></td>
<td><code>CustomerCreatedEvent</code></td>
</tr>
<tr>
<td><code>PlaceOrderCommand</code></td>
<td><code>OrderPlacedEvent</code></td>
</tr>
<tr>
<td><code>CancelOrderCommand</code></td>
<td><code>OrderCancelledEvent</code></td>
</tr>
</tbody></table>

<h2>Message structure</h2>

<p>Both <strong>command</strong> messages and <strong>event</strong> messages are basically data containers.  They are, therefore, data transfer objects and should not contain any behaviour.  If you would like to add some basic behaviour you should opt for extension methods as these will not interfere with serialization.  LINQ features, for example, may interfere with serialization.</p>

<p>Since the messages are plain classes you do not need to implement any specific interface or inherit from any specific class to make them work.</p>

<p>You may want to apply some convention to distinguish between the messages.  As indicated by the examples above a <strong>Command</strong> and <strong>Event</strong> suffix may be added to the <strong>command</strong> and <strong>event</strong> messages respectively.</p>

<p>In order to <strong>send</strong> a command or <strong>publish</strong> an event you need an instance of the <a href="/message-sender">IMessageSender</a> interface.  This interface is implemented on both the <code>ServiceBus</code> class (via the <code>IServiceBus</code> interface) and the <a href="/handler-context">HandlerContext</a>.</p>

<h1>ServiceBusConfiguration</h1>

<p>The <code>ServiceBusConfiguration</code> instance contains all the configuration required by the <code>ServiceBus</code> to operate.  In order to build the configuration you can make use of the <a href="/service-bus-configurator">ServiceBusConfigurator</a> that is exposed on the <code>Create</code> method.  The <code>Create</code> method returns an instance of the <code>ServiceBus</code> and you can then call the <code>Start</code> method at the appropriate time.</p>

<p>The simplest possible way to create and start a service bus is as follows:</p>
<div class="highlight"><pre><code class="c# language-c#" data-lang="c#">    <span class="n">bus</span> <span class="p">=</span> <span class="n">ServiceBus</span>
        <span class="p">.</span><span class="n">Create</span><span class="p">()</span>
        <span class="p">.</span><span class="n">Start</span><span class="p">();</span>
</code></pre></div>
<p>All the default options will be used in such as case but there will be rather few occasions where this will suffice.  For instance, when you need to subscribe to an event or publish an event you will need an imeplementation of the <a href="/subscription-manager">ISubscriptionManager</a>.  A typical call to create and the start a service bus using a Sql Server subscription manager is as follows:</p>
<div class="highlight"><pre><code class="c# language-c#" data-lang="c#">    <span class="kt">var</span> <span class="n">subscriptionManager</span> <span class="p">=</span> <span class="n">SubscriptionManager</span><span class="p">.</span><span class="n">Default</span><span class="p">();</span>

    <span class="n">subscriptionManager</span><span class="p">.</span><span class="n">Subscribe</span><span class="p">(</span><span class="k">new</span><span class="p">[]</span> <span class="p">{</span> <span class="k">typeof</span><span class="p">(</span><span class="n">SomeInterestingEvent</span><span class="p">).</span><span class="n">FullName</span> <span class="p">});</span>

    <span class="n">bus</span> <span class="p">=</span> <span class="n">ServiceBus</span>
        <span class="p">.</span><span class="n">Create</span><span class="p">(</span><span class="n">c</span> <span class="p">=&gt;</span> <span class="n">c</span><span class="p">.</span><span class="n">SubscriptionManager</span><span class="p">(</span><span class="n">subscriptionManager</span><span class="p">))</span>
        <span class="p">.</span><span class="n">Start</span><span class="p">();</span>
</code></pre></div>
<h3>TransactionScopeFactory</h3>

<p>Go to the <a href="/transactionscope-factory">ITransactionScopeFactory</a> documentation.</p>
<div class="highlight"><pre><code class="c# language-c#" data-lang="c#">    <span class="k">public</span> <span class="k">interface</span> <span class="n">IServiceBusConfiguration</span>
    <span class="p">{</span>
        <span class="n">ITransactionScopeFactory</span> <span class="n">TransactionScopeFactory</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">ServiceBusConfigurator</span>
    <span class="p">{</span>
        <span class="n">ServiceBusConfigurator</span> <span class="nf">TransactionScopeFactory</span><span class="p">(</span><span class="n">ITransactionScopeFactory</span> <span class="n">TransactionScopeFactory</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">ServiceBusConfiguration</span> <span class="p">:</span> <span class="n">IServiceBusConfiguration</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="nf">ServiceBusConfiguration</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">TransactionScopeFactory</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DefaultTransactionScopeFactory</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
<h3>PipelineFactory</h3>

<p>Go to the <a href="/pipeline-factory">IPipelineFactory</a> documentation.</p>
<div class="highlight"><pre><code class="c# language-c#" data-lang="c#">    <span class="k">public</span> <span class="k">interface</span> <span class="n">IServiceBusConfiguration</span>
    <span class="p">{</span>
        <span class="n">IPipelineFactory</span> <span class="n">PipelineFactory</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">ServiceBusConfigurator</span>
    <span class="p">{</span>
        <span class="n">ServiceBusConfigurator</span> <span class="nf">PipelineFactory</span><span class="p">(</span><span class="n">IPipelineFactory</span> <span class="n">pipelineFactory</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">ServiceBusConfiguration</span> <span class="p">:</span> <span class="n">IServiceBusConfiguration</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="nf">ServiceBusConfiguration</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">PipelineFactory</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DefaultPipelineFactory</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
<h3>MessageRouteProvider</h3>

<p>Go to the <a href="/message-route-provider">IMessageRouteProvider</a> documentation.</p>
<div class="highlight"><pre><code class="c# language-c#" data-lang="c#">    <span class="k">public</span> <span class="k">interface</span> <span class="n">IServiceBusConfiguration</span>
    <span class="p">{</span>
        <span class="n">IMessageRouteProvider</span> <span class="n">MessageRouteProvider</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">ServiceBusConfigurator</span>
    <span class="p">{</span>
        <span class="n">ServiceBusConfigurator</span> <span class="nf">MessageRouteProvider</span><span class="p">(</span><span class="n">IMessageRouteProvider</span> <span class="n">messageRouteProvider</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">ServiceBusConfiguration</span> <span class="p">:</span> <span class="n">IServiceBusConfiguration</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="nf">ServiceBusConfiguration</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">MessageRouteProvider</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DefaultMessageRouteProvider</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
<h3>MessageHandlerFactory</h3>

<p>Go to the <a href="/message-handler-factory">IMessageHandlerFactory</a> documentation.</p>
<div class="highlight"><pre><code class="c# language-c#" data-lang="c#">    <span class="k">public</span> <span class="k">interface</span> <span class="n">IServiceBusConfiguration</span>
    <span class="p">{</span>
        <span class="n">IMessageHandlerFactory</span> <span class="n">MessageHandlerFactory</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">ServiceBusConfigurator</span>
    <span class="p">{</span>
        <span class="n">ServiceBusConfigurator</span> <span class="nf">MessageHandlerFactory</span><span class="p">(</span><span class="n">IMessageHandlerFactory</span> <span class="n">messageHandlerFactory</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">ServiceBusConfiguration</span> <span class="p">:</span> <span class="n">IServiceBusConfiguration</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="nf">ServiceBusConfiguration</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">MessageHandlerFactory</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DefaultMessageHandlerFactory</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
<h3>Serializer</h3>

<p>Go to the <a href="/serializer">ISerializer</a> documentation.</p>
<div class="highlight"><pre><code class="c# language-c#" data-lang="c#">    <span class="k">public</span> <span class="k">interface</span> <span class="n">IServiceBusConfiguration</span>
    <span class="p">{</span>
        <span class="n">ISerializer</span> <span class="n">Serializer</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">ServiceBusConfigurator</span>
    <span class="p">{</span>
        <span class="n">ServiceBusConfigurator</span> <span class="nf">MessageSerializer</span><span class="p">(</span><span class="n">ISerializer</span> <span class="n">serializer</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">ServiceBusConfiguration</span> <span class="p">:</span> <span class="n">IServiceBusConfiguration</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="nf">ServiceBusConfiguration</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Serializer</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DefaultSerializer</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
<p>.</p>

<h3>ForwardingRouteProvider</h3>

<p>Go to the <a href="/message-route-provider">IMessageRouteProvider</a> documentation.</p>
<div class="highlight"><pre><code class="c# language-c#" data-lang="c#">    <span class="k">public</span> <span class="k">interface</span> <span class="n">IServiceBusConfiguration</span>
    <span class="p">{</span>
        <span class="n">IMessageRouteProvider</span> <span class="n">ForwardingRouteProvider</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">ServiceBusConfigurator</span>
    <span class="p">{</span>
        <span class="n">ServiceBusConfigurator</span> <span class="nf">ForwardingRouteProvider</span><span class="p">(</span><span class="n">IMessageRouteProvider</span> <span class="n">forwardingRouteProvider</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">ServiceBusConfiguration</span> <span class="p">:</span> <span class="n">IServiceBusConfiguration</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="nf">ServiceBusConfiguration</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">ForwardingRouteProvider</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DefaultForwardingRouteProvider</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
<h3>Policy</h3>

<p>Go to the <a href="/service-bus-policy">IServiceBusPolicy</a> documentation.</p>
<div class="highlight"><pre><code class="c# language-c#" data-lang="c#">    <span class="k">public</span> <span class="k">interface</span> <span class="n">IServiceBusConfiguration</span>
    <span class="p">{</span>
        <span class="n">IServiceBusPolicy</span> <span class="n">Policy</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">ServiceBusConfigurator</span>
    <span class="p">{</span>
        <span class="n">ServiceBusConfigurator</span> <span class="nf">Policy</span><span class="p">(</span><span class="n">IServiceBusPolicy</span> <span class="n">policy</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">ServiceBusConfiguration</span> <span class="p">:</span> <span class="n">IServiceBusConfiguration</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="nf">ServiceBusConfiguration</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Policy</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DefaultServiceBusPolicy</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
<h3>ThreadActivityFactory</h3>

<p>Go to the <a href="/thread-activity-factory">IThreadActivityFactory</a> documentation.</p>
<div class="highlight"><pre><code class="c# language-c#" data-lang="c#">    <span class="k">public</span> <span class="k">interface</span> <span class="n">IServiceBusConfiguration</span>
    <span class="p">{</span>
        <span class="n">IThreadActivityFactory</span> <span class="n">ThreadActivityFactory</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">ServiceBusConfigurator</span>
    <span class="p">{</span>
        <span class="n">ServiceBusConfigurator</span> <span class="nf">ThreadActivityFactory</span><span class="p">(</span><span class="n">IThreadActivityFactory</span> <span class="n">factory</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">ServiceBusConfiguration</span> <span class="p">:</span> <span class="n">IServiceBusConfiguration</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="nf">ServiceBusConfiguration</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">ThreadActivityFactory</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DefaultThreadActivityFactory</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div>
<h3>SubscriptionManager</h3>

<p>Go to the <a href="/subscription-manager">ISubscriptionManager</a> documentation.</p>
<div class="highlight"><pre><code class="c# language-c#" data-lang="c#">    <span class="k">public</span> <span class="k">interface</span> <span class="n">IServiceBusConfiguration</span>
    <span class="p">{</span>
        <span class="n">ISubscriptionManager</span> <span class="n">SubscriptionManager</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
        <span class="kt">bool</span> <span class="n">HasSubscriptionManager</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">ServiceBusConfigurator</span>
    <span class="p">{</span>
        <span class="n">ServiceBusConfigurator</span> <span class="nf">SubscriptionManager</span><span class="p">(</span><span class="n">ISubscriptionManager</span> <span class="n">manager</span><span class="p">);</span>
    <span class="p">}</span>
</code></pre></div>
<h3>Encryption</h3>

<p>Go to the <a href="/encryption">Encryption</a> documentation.</p>
<div class="highlight"><pre><code class="c# language-c#" data-lang="c#">    <span class="k">public</span> <span class="k">interface</span> <span class="n">IServiceBusConfiguration</span>
    <span class="p">{</span>
        <span class="k">void</span> <span class="nf">AddEncryptionAlgorithm</span><span class="p">(</span><span class="n">IEncryptionAlgorithm</span> <span class="n">algorithm</span><span class="p">);</span>
        <span class="n">IEncryptionAlgorithm</span> <span class="nf">FindEncryptionAlgorithm</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">ServiceBusConfigurator</span>
    <span class="p">{</span>
        <span class="n">ServiceBusConfigurator</span> <span class="nf">AddEnryptionAlgorithm</span><span class="p">(</span><span class="n">IEncryptionAlgorithm</span> <span class="n">algorithm</span><span class="p">);</span>
    <span class="p">}</span>
</code></pre></div>
<h3>Compression</h3>

<p>Go to the <a href="/compression">Compression</a> documentation.</p>
<div class="highlight"><pre><code class="c# language-c#" data-lang="c#">    <span class="k">public</span> <span class="k">interface</span> <span class="n">IServiceBusConfiguration</span>
    <span class="p">{</span>
        <span class="k">void</span> <span class="nf">AddCompressionAlgorithm</span><span class="p">(</span><span class="n">ICompressionAlgorithm</span> <span class="n">algorithm</span><span class="p">);</span>
        <span class="n">ICompressionAlgorithm</span> <span class="nf">FindCompressionAlgorithm</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">ServiceBusConfigurator</span>
    <span class="p">{</span>
        <span class="n">ServiceBusConfigurator</span> <span class="nf">AddCompressionAlgorithm</span><span class="p">(</span><span class="n">ICompressionAlgorithm</span> <span class="n">algorithm</span><span class="p">);</span>
    <span class="p">}</span>
</code></pre></div>
<h3>Modules</h3>

<p>Go to the <a href="/modules">Modules</a> documentation.</p>
<div class="highlight"><pre><code class="c# language-c#" data-lang="c#">    <span class="k">public</span> <span class="k">interface</span> <span class="n">IServiceBusConfiguration</span>
    <span class="p">{</span>
        <span class="n">ModuleCollection</span> <span class="n">Modules</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">ServiceBusConfigurator</span>
    <span class="p">{</span>
        <span class="n">ServiceBusConfigurator</span> <span class="nf">AddModule</span><span class="p">(</span><span class="n">IModule</span> <span class="n">module</span><span class="p">);</span>
    <span class="p">}</span>
</code></pre></div>
<p>.</p>

<h3>IdempotenceService</h3>

<p>Go to the <a href="/idempotence-service">IdempotenceService</a> documentation.</p>
<div class="highlight"><pre><code class="c# language-c#" data-lang="c#">    <span class="k">public</span> <span class="k">interface</span> <span class="n">IServiceBusConfiguration</span>
    <span class="p">{</span>
        <span class="n">IIdempotenceService</span> <span class="n">IdempotenceService</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">ServiceBusConfigurator</span>
    <span class="p">{</span>
        <span class="n">ServiceBusConfigurator</span> <span class="nf">IdempotenceService</span><span class="p">(</span><span class="n">IIdempotenceService</span> <span class="n">idempotenceService</span><span class="p">);</span>
    <span class="p">}</span>
</code></pre></div>
<p>site.baseurl: http://shuttle.github.io/shuttle-esb
baseurl: </p>

<p>site.JB.BASE<em>PATH: http://shuttle.github.io/shuttle-esb
site.BASE</em>PATH: 
BASE<em>PATH: 
site: {&quot;source&quot;=&gt;&quot;C:/development.github/shuttle/shuttle-esb&quot;, &quot;destination&quot;=&gt;&quot;C:/development.github/shuttle/shuttle-esb/</em>site&quot;, &quot;plugins&quot;=&gt;&quot;<em>plugins&quot;, &quot;layouts&quot;=&gt;&quot;</em>layouts&quot;, &quot;data<em>source&quot;=&gt;&quot;</em>data&quot;, &quot;keep<em>files&quot;=&gt;[&quot;.git&quot;, &quot;.svn&quot;], &quot;gems&quot;=&gt;[], &quot;timezone&quot;=&gt;nil, &quot;encoding&quot;=&gt;nil, &quot;safe&quot;=&gt;true, &quot;detach&quot;=&gt;false, &quot;show</em>drafts&quot;=&gt;nil, &quot;limit<em>posts&quot;=&gt;0, &quot;lsi&quot;=&gt;false, &quot;future&quot;=&gt;true, &quot;pygments&quot;=&gt;true, &quot;relative</em>permalinks&quot;=&gt;true, &quot;markdown&quot;=&gt;&quot;redcarpet&quot;, &quot;permalink&quot;=&gt;&quot;pretty&quot;, &quot;baseurl&quot;=&gt;&quot;http://shuttle.github.io/shuttle-esb&quot;, &quot;include&quot;=&gt;[&quot;.htaccess&quot;], &quot;exclude&quot;=&gt;[&quot;.rvmrc&quot;, &quot;.rbenv-version&quot;, &quot;README.md&quot;, &quot;Rakefile&quot;, &quot;changelog.md&quot;], &quot;paginate<em>path&quot;=&gt;&quot;/page:num&quot;, &quot;markdown</em>ext&quot;=&gt;&quot;markdown,mkd,mkdn,md&quot;, &quot;textile<em>ext&quot;=&gt;&quot;textile&quot;, &quot;port&quot;=&gt;&quot;4000&quot;, &quot;host&quot;=&gt;&quot;0.0.0.0&quot;, &quot;excerpt</em>separator&quot;=&gt;&quot;\n\n&quot;, &quot;maruku&quot;=&gt;{&quot;fenced<em>code</em>blocks&quot;=&gt;true, &quot;use<em>tex&quot;=&gt;false, &quot;use</em>divs&quot;=&gt;false, &quot;png<em>engine&quot;=&gt;&quot;blahtex&quot;, &quot;png</em>dir&quot;=&gt;&quot;images/latex&quot;, &quot;png<em>url&quot;=&gt;&quot;/images/latex&quot;}, &quot;rdiscount&quot;=&gt;{&quot;extensions&quot;=&gt;[]}, &quot;redcarpet&quot;=&gt;{&quot;extensions&quot;=&gt;[&quot;tables&quot;]}, &quot;kramdown&quot;=&gt;{&quot;auto</em>ids&quot;=&gt;true, &quot;footnote<em>nr&quot;=&gt;1, &quot;entity</em>output&quot;=&gt;&quot;as<em>char&quot;, &quot;toc</em>levels&quot;=&gt;&quot;1..6&quot;, &quot;smart<em>quotes&quot;=&gt;&quot;lsquo,rsquo,ldquo,rdquo&quot;, &quot;use</em>coderay&quot;=&gt;false, &quot;coderay&quot;=&gt;{&quot;coderay<em>wrap&quot;=&gt;&quot;div&quot;, &quot;coderay</em>line<em>numbers&quot;=&gt;&quot;inline&quot;, &quot;coderay</em>line<em>number</em>start&quot;=&gt;1, &quot;coderay<em>tab</em>width&quot;=&gt;4, &quot;coderay<em>bold</em>every&quot;=&gt;10, &quot;coderay<em>css&quot;=&gt;&quot;style&quot;}}, &quot;redcloth&quot;=&gt;{&quot;hard</em>breaks&quot;=&gt;true}, &quot;paginate&quot;=&gt;10, &quot;title&quot;=&gt;&quot;shuttle-esb&quot;, &quot;tagline&quot;=&gt;&quot;free open-source .net enterprise service bus&quot;, &quot;author&quot;=&gt;{&quot;name&quot;=&gt;&quot;Eben Roux&quot;, &quot;email&quot;=&gt;&quot;me@ebenroux.co.za&quot;, &quot;github&quot;=&gt;&quot;eben-roux&quot;, &quot;twitter&quot;=&gt;nil, &quot;feedburner&quot;=&gt;nil}, &quot;production<em>url&quot;=&gt;&quot;http://shuttle.github.io/shuttle-esb/&quot;, &quot;github</em>repository&quot;=&gt;&quot;https://github.com/Shuttle/shuttle-esb&quot;, &quot;JB&quot;=&gt;{&quot;version&quot;=&gt;&quot;0.3.0&quot;, &quot;BASE<em>PATH&quot;=&gt;&quot;http://shuttle.github.io/shuttle-esb&quot;, &quot;ASSET</em>PATH&quot;=&gt;false, &quot;archive<em>path&quot;=&gt;&quot;/archive.html&quot;, &quot;categories</em>path&quot;=&gt;&quot;/categories.html&quot;, &quot;tags<em>path&quot;=&gt;&quot;/tags.html&quot;, &quot;atom</em>path&quot;=&gt;&quot;/atom.xml&quot;, &quot;rss<em>path&quot;=&gt;&quot;/rss.xml&quot;, &quot;comments&quot;=&gt;{&quot;provider&quot;=&gt;&quot;disqus&quot;, &quot;disqus&quot;=&gt;{&quot;short</em>name&quot;=&gt;&quot;jekyllbootstrap&quot;}, &quot;livefyre&quot;=&gt;{&quot;site<em>id&quot;=&gt;123}, &quot;intensedebate&quot;=&gt;{&quot;account&quot;=&gt;&quot;123abc&quot;}, &quot;facebook&quot;=&gt;{&quot;appid&quot;=&gt;123, &quot;num</em>posts&quot;=&gt;5, &quot;width&quot;=&gt;580, &quot;colorscheme&quot;=&gt;&quot;light&quot;}}, &quot;analytics&quot;=&gt;{&quot;provider&quot;=&gt;false, &quot;google&quot;=&gt;{&quot;tracking<em>id&quot;=&gt;&quot;UA-123-12&quot;}, &quot;getclicky&quot;=&gt;{&quot;site</em>id&quot;=&gt;nil}, &quot;mixpanel&quot;=&gt;{&quot;token&quot;=&gt;&quot;<em>MIXPANEL</em>TOKEN<em>&quot;}, &quot;piwik&quot;=&gt;{&quot;baseURL&quot;=&gt;&quot;myserver.tld/piwik&quot;, &quot;idsite&quot;=&gt;&quot;1&quot;}}, &quot;sharing&quot;=&gt;{&quot;provider&quot;=&gt;false}}, &quot;serving&quot;=&gt;true, &quot;watch&quot;=&gt;true, &quot;time&quot;=&gt;2014-07-21 06:27:35 +0200, &quot;posts&quot;=&gt;[<Post: /2014/06/22/shuttle-esb-v3.0.0-rc11>, <Post: /2014/04/24/shuttle-esb-v3.0.0-rc4>, <Post: /2013/12/28/documentation-via-github-pages>], &quot;pages&quot;=&gt;[#<Jekyll:Page @name="architecture.md">, #<Jekyll:Page @name="archive.html">, #<Jekyll:Page @name="atom.xml">, #<Jekyll:Page @name="autonomous-component.md">, #<Jekyll:Page @name="categories.html">, #<Jekyll:Page @name="compression.md">, #<Jekyll:Page @name="encryption.md">, #<Jekyll:Page @name="extensions-castle-project.md">, #<Jekyll:Page @name="extensions-msmq.md">, #<Jekyll:Page @name="extensions-rabbitmq.md">, #<Jekyll:Page @name="extensions-sql-server.md">, #<Jekyll:Page @name="full-configuration.md">, #<Jekyll:Page @name="generic-host.md">, #<Jekyll:Page @name="getting-started.md">, #<Jekyll:Page @name="handler-context.md">, #<Jekyll:Page @name="idempotence-service.md">, #<Jekyll:Page @name="index.html">, #<Jekyll:Page @name="message-handler-factory.md">, #<Jekyll:Page @name="message-handler.md">, #<Jekyll:Page @name="message-route-provider.md">, #<Jekyll:Page @name="message-sender.md">, #<Jekyll:Page @name="modules-corrupt-messages.md">, #<Jekyll:Page @name="modules.md">, #<Jekyll:Page @name="pages.html">, #<Jekyll:Page @name="pipeline-factory.md">, #<Jekyll:Page @name="rss.xml">, #<Jekyll:Page @name="serializer.md">, #<Jekyll:Page @name="service-bus-configuration.md">, #<Jekyll:Page @name="service-bus-configurator.md">, #<Jekyll:Page @name="service-bus-policy.md">, #<Jekyll:Page @name="service-bus.md">, #<Jekyll:Page @name="sitemap.txt">, #<Jekyll:Page @name="subscription-manager.md">, #<Jekyll:Page @name="tags.html">, #<Jekyll:Page @name="template.md">, #<Jekyll:Page @name="thread-activity-factory.md">, #<Jekyll:Page @name="transactionscope-factory.md">, #<Jekyll:Page @name="transport-message-configurator.md">, #<Jekyll:Page @name="transport-message.md">], &quot;html</em>pages&quot;=&gt;[#<Jekyll:Page @name="architecture.md">, #<Jekyll:Page @name="archive.html">, #<Jekyll:Page @name="autonomous-component.md">, #<Jekyll:Page @name="categories.html">, #<Jekyll:Page @name="compression.md">, #<Jekyll:Page @name="encryption.md">, #<Jekyll:Page @name="extensions-castle-project.md">, #<Jekyll:Page @name="extensions-msmq.md">, #<Jekyll:Page @name="extensions-rabbitmq.md">, #<Jekyll:Page @name="extensions-sql-server.md">, #<Jekyll:Page @name="full-configuration.md">, #<Jekyll:Page @name="generic-host.md">, #<Jekyll:Page @name="getting-started.md">, #<Jekyll:Page @name="handler-context.md">, #<Jekyll:Page @name="idempotence-service.md">, #<Jekyll:Page @name="index.html">, #<Jekyll:Page @name="message-handler-factory.md">, #<Jekyll:Page @name="message-handler.md">, #<Jekyll:Page @name="message-route-provider.md">, #<Jekyll:Page @name="message-sender.md">, #<Jekyll:Page @name="modules-corrupt-messages.md">, #<Jekyll:Page @name="modules.md">, #<Jekyll:Page @name="pages.html">, #<Jekyll:Page @name="pipeline-factory.md">, #<Jekyll:Page @name="serializer.md">, #<Jekyll:Page @name="service-bus-configuration.md">, #<Jekyll:Page @name="service-bus-configurator.md">, #<Jekyll:Page @name="service-bus-policy.md">, #<Jekyll:Page @name="service-bus.md">, #<Jekyll:Page @name="subscription-manager.md">, #<Jekyll:Page @name="tags.html">, #<Jekyll:Page @name="template.md">, #<Jekyll:Page @name="thread-activity-factory.md">, #<Jekyll:Page @name="transactionscope-factory.md">, #<Jekyll:Page @name="transport-message-configurator.md">, #<Jekyll:Page @name="transport-message.md">], &quot;categories&quot;=&gt;{}, &quot;tags&quot;=&gt;{}, &quot;data&quot;=&gt;{}}</p>

	</div>
</div>


      </div>

    </div>

    <div id="footer">
        <p>&copy; 2014 Eben Roux
          with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a> / <a href="http://github.com/dhulihan/hooligan" target="_blank">The Hooligan Theme</a>
        </p>
    </div id="footer">

    

    <script src="http://shuttle.github.io/shuttle-esb/assets/themes/shuttle/js/jquery.min.js"></script>
	<script src="http://shuttle.github.io/shuttle-esb/assets/themes/shuttle/js/jquery-ui.js"></script>
	<script src="http://shuttle.github.io/shuttle-esb/assets/themes/shuttle/bootstrap/js/bootstrap.min.js"></script>
	<script src="http://shuttle.github.io/shuttle-esb/assets/themes/shuttle/js/jquery.tocify.js"></script>
	<script src="http://shuttle.github.io/shuttle-esb/assets/themes/shuttle/js/site.js"></script>
  </body>
</html>
